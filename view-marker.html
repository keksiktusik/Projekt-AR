<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Model AR pierwiastka</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar-nft.min.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    a-scene {
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  <script>
    const params = new URLSearchParams(window.location.search);
    const symbol = params.get("symbol");

    // Mapowanie symboli na pliki modeli
    const modelMap = {
      "pu-szlach": "pu-szlach.glb",
      "gr-niemet": "gr-niemet.glb",
      "re-alkmet": "re-alkmet.glb",
      "or-alkziem": "or-alkziem.glb",
      "aq-metal": "aq-metal.glb",
      "gr-halogen": "gr-halogen.glb",
      "ye-transmetal": "ye-transmetal.glb"
    };

    const modelUrl = symbol && modelMap[symbol]
      ? `models/${modelMap[symbol]}`
      : null;

    if (modelUrl) {
      document.write(`
        <a-scene
          embedded
          arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        >
          <a-nft
            type="nft"
            url="markers/default-marker"
            smooth="true"
            smoothCount="10"
            smoothTolerance="0.01"
            smoothThreshold="5"
          >
            <a-entity
              gltf-model="${modelUrl}"
              scale="100 100 100"
              position="0 0 0"
              rotation="0 0 0"
            ></a-entity>
          </a-nft>

          <a-entity camera></a-entity>
        </a-scene>
      `);
    } else {
      document.write('<p style="color:white; text-align:center;">Nie znaleziono modelu dla symbolu.</p>');
    }
  </script>
</body>
</html>
